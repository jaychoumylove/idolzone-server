(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pk-pk_rank_user"],{"0084":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{current:0,rankList:[],tabList:[{name:"钻石争夺战"},{name:"鲜花争夺战"}],pkStatus:1,timeSpace:{},list:[],pkTime:"",mid:0,yestoday:0,adm:0,captain:this.$app.getData("userStar").captain}},onLoad:function(t){console.log(t);var e=t.starname||"";uni.setNavigationBarTitle({title:e+"团战"}),this.pkTime=t.pkTime||"",this.mid=t.mid,this.yestoday=t.yestoday||0,this.current=t.current,this.page=1,this.loadData()},methods:{lower:function(){this.page++,this.page>10||this.loadData()},out:function(t,e){for(var i=this,a=[2,4,8,12,24,72],n=[],s=0;s<a.length;s++){var o=a[s];n.push("禁止 ".concat(t.name," 参加团战：").concat(o,"小时"))}wx.showActionSheet({itemList:n,success:function(e){var n=a[e.tapIndex];wx.showModal({title:"提示",content:"禁止 ".concat(t.name," ").concat(n,"小时参加团战?"),success:function(e){if(e.confirm){var a=t.uid;i.$app.request("rank/pk_out",{mid:i.$app.getData("userStar")["id"],uid:a,time:n},function(t){i.$app.toast(t.msg)})}}})}})},goPage:function(t){2==this.pkStatus&&(t.currentTarget.dataset.mid!=this.$app.getData("userStar").id&&1!=this.sAdm||this.$app.goPage(t.currentTarget.dataset.page))},swiperChange:function(t){this.current=t.detail.current,this.page=1,this.rankList=[],this.loadData()},loadData:function(){var t=this;this.$app.request("rank/pk",{page:this.page,type:this.current||0,mid:this.$app.getData("userStar")["id"],pkTime:this.pkTime||"",yestoday:this.yestoday||0,s:1},function(e){var i=e.data;t.pkTime&&(i.status=2),1==t.page?t.list=i.userList:t.list=t.list.concat(i.userList),t.pkStatus=i.status,t.isJoin=i.isJoin||0,t.adm=i.isAdm||0})}}};e.default=a},7144:function(t,e,i){"use strict";i.r(e);var a=i("7e42"),n=i("be59");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("f149");var o,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"d086eec2",null,!1,a["a"],o);e["default"]=c.exports},"7e42":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"rank-page-container"},[i("v-uni-view",{staticClass:"tab-container"},[i("v-uni-view",{staticClass:"tab-item",class:{active:0==t.current},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.current=0}}},[t._v("钻石争夺战")]),i("v-uni-view",{staticClass:"tab-item",class:{active:1==t.current},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.current=1}}},[t._v("鲜花争夺战")])],1),i("v-uni-swiper",{staticClass:"swiper",attrs:{current:t.current},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)}}},[t._l([0,1],function(e){return[i("v-uni-swiper-item",[i("v-uni-view",{staticClass:"explain-long"},[i("v-uni-view",{staticClass:"explain"},[t._v("本场粉丝贡献排名")])],1),i("v-uni-scroll-view",{staticClass:"rankscrollbox",attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"rank-box"},[i("v-uni-view",{staticClass:"week-rank"},[t._l(t.list,function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"rank-item"},[i("v-uni-text",{staticClass:"index1"},[t._v(t._s(2==t.pkStatus?a+1:""))]),i("v-uni-view",{staticClass:"head-img"},[i("v-uni-image",{attrs:{src:e.avatarurl?e.avatarurl:this.AVATAR}}),2==t.pkStatus&&a<3?i("v-uni-image",{staticClass:"s",attrs:{src:"/static/image/rank/p"+(a+1)+".png"}}):t._e()],1),i("v-uni-view",{staticClass:"visiting-card"},[i("v-uni-view",{staticClass:"nickname"},[i("v-uni-view",{staticClass:"nickname-text"},[t._v(t._s(e.name?e.name:"神秘粉丝"))]),e.adm?i("v-uni-view",{staticClass:"level ling"},[i("v-uni-image",{attrs:{src:"/image/ling.png"}})],1):t._e(),e.level?i("v-uni-image",{staticClass:"level",attrs:{src:"/static/image/user_level/lv"+e.level+".png"}}):t._e()],1),i("v-uni-view",{staticClass:"flower"},[1==t.pkStatus?[t._v("报名参加了本场团战")]:t._e(),2==t.pkStatus?[i("v-uni-text",{},[t._v("本场人气")]),i("v-uni-text",{staticClass:"color"},[t._v(t._s(e.send_hot))]),2==t.pkStatus?i("v-uni-image",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/w5pLFvdua9F3NAxlopF2oyvfuiaEjgJItws1tcmzFFLo4WGc38l7kibxxk1atGAcjALuqvyvLib3icFPyAicbsOOl3g/0"}}):t._e()]:t._e()],2)],1),t.mymid==e.star_id&&2==t.pkStatus?i("v-uni-view",{staticClass:"right-btn"},[t._v("粉丝贡献")]):t._e(),t.captain?i("v-uni-view",{staticClass:"out iconfont iconjinzhi",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.out(e,a)}}}):t._e()],1)]})],2)],1)],1)],1)]})],2)],1)},s=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return s}),i.d(e,"a",function(){return a})},"81a6":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".rank-page-container[data-v-d086eec2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:100%}.rank-page-container .tab-container[data-v-d086eec2]{padding:%?25?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;border-bottom:%?1?% solid #eee}.rank-page-container .tab-container .tab-item[data-v-d086eec2]{border-radius:%?32?%;border:%?1?% solid #ff7e00;padding:%?10?% %?30?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?30?%;margin:0 %?20?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#ff7e00}.rank-page-container .tab-container .tab-item.active[data-v-d086eec2]{background-color:#ff7e00;text-align:center;color:#fff}uni-page-body[data-v-d086eec2]{background-color:#fff;height:100%;overflow:hidden}.title[data-v-d086eec2]{padding:%?25?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;border-bottom:%?1?% solid #eee}.tab-active[data-v-d086eec2],.tab-nomal[data-v-d086eec2]{border-radius:%?32?%;border:%?1?% solid #ff7e00;padding:%?10?% %?20?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?30?%}.tab-active[data-v-d086eec2]{background-color:#ff7e00;text-align:center;color:#fff}.tab-nomal[data-v-d086eec2]{color:#ff7e00}.all-rank[data-v-d086eec2]{height:100%;width:100%;-webkit-transform:translateX(750px);transform:translateX(750px)}.week-rank[data-v-d086eec2]{height:100%;width:100%\n  /* position: absolute;\n  top:0;\n  left:0;\n  transform: translateX(-750px); */}.rank-item[data-v-d086eec2]{height:%?140?%;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?32?%;color:#323232;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?6?% %?35?%}.rank-item .index1[data-v-d086eec2]{margin:0 %?20?%;font-size:%?34?%;color:#686868}.pai[data-v-d086eec2]{width:%?55?%;height:%?55?%}.rank-item .index2[data-v-d086eec2]{color:#f78da6}.rank-item .index3[data-v-d086eec2]{color:#ba8cf7}.rank-item .index4[data-v-d086eec2]{color:#9dc0ee}.visiting-card .index4[data-v-d086eec2]{margin-right:%?20?%}.rank-item .index5[data-v-d086eec2]{color:#94edb5}.active.rank-item[data-v-d086eec2]{background-color:#fff}.head-img[data-v-d086eec2]{width:%?111?%;height:%?107?%;position:relative;top:%?6?%}.head-img uni-image[data-v-d086eec2]{width:%?95?%;height:%?95?%;border-radius:50%}.head-img uni-image.s[data-v-d086eec2]{width:%?58?%;height:%?58?%;position:absolute;right:0;bottom:%?-2?%}.visiting-card[data-v-d086eec2]{line-height:150%}.my-rank .visiting-card[data-v-d086eec2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.visiting-card .flower[data-v-d086eec2]{color:#686868;font-size:%?24?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.visiting-card .share[data-v-d086eec2]{font-size:%?22?%;width:%?334?%}.flower uni-image[data-v-d086eec2]{width:%?30?%;height:%?30?%;vertical-align:middle;margin-right:%?6?%;margin-left:%?6?%}.my-rank[data-v-d086eec2]{background-color:#fff;border-top:%?1?% solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-around;justify-content:space-around;height:auto;bottom:0;position:fixed}.swiper[data-v-d086eec2]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.rankscrollbox[data-v-d086eec2]{height:100%}.rank-box[data-v-d086eec2]{padding-bottom:%?100?%}.starname[data-v-d086eec2]{background:-webkit-linear-gradient(#ff7e00,#fccd9f);color:#fff;padding:0 %?12?%;border-radius:%?12?%;font-size:%?20?%;box-shadow:0 0 1px rgba(0,0,0,.3);line-height:%?34?%}.nickname-text[data-v-d086eec2]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:%?320?%}.nickname-text.self[data-v-d086eec2]{max-width:%?250?%}.explain-long[data-v-d086eec2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;font-size:%?26?%;padding:%?20?%}.explain-row[data-v-d086eec2]{position:relative}.explain-row .explain[data-v-d086eec2]{position:absolute;right:%?50?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:%?20?%}.give-btn[data-v-d086eec2]{width:%?160?%;height:%?65?%;margin:auto;background:#ff7e00;border-radius:%?50?%;text-align:center;line-height:%?65?%;color:#fff;font-size:%?28?%}.visiting-card .nickname[data-v-d086eec2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.visiting-card .level[data-v-d086eec2]{width:%?30?%;height:%?30?%}.rank-item .out[data-v-d086eec2]{position:absolute;right:%?70?%;color:#999}.rank-item .out uni-image[data-v-d086eec2]{width:%?40?%;height:%?40?%}.color[data-v-d086eec2]{color:#fa7d09}body.?%PAGE?%[data-v-d086eec2]{background-color:#fff}",""])},"90cc":function(t,e,i){var a=i("81a6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("555bb4b4",a,!0,{sourceMap:!1,shadowMode:!1})},be59:function(t,e,i){"use strict";i.r(e);var a=i("0084"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},f149:function(t,e,i){"use strict";var a=i("90cc"),n=i.n(a);n.a}}]);