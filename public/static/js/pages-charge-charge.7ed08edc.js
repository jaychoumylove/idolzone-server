(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-charge-charge"],{"22a0":function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$app.getData("config").version==t.$app.getData("VERSION")||0!=t.$app.chargeSwitch()?a("v-uni-view",{staticClass:"no-data"},[t._v("由于政策原因，不支持在应用内购买")]):a("v-uni-view",{staticClass:"charge-page-container"},[a("v-uni-view",{staticClass:"top-row flex-set"},[a("v-uni-view",{staticClass:"left-wrap flex-set"},[a("v-uni-image",{staticClass:"avatar",attrs:{src:t.userInfo.avatarurl,mode:"aspectFill"}}),a("v-uni-view",{staticClass:"nickname"},[t._v(t._s(t.userInfo.nickname))])],1),a("v-uni-view",{staticClass:"right-wrap flex-set",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.modal="proxyRecharge"}}},[t._v("为好友充值")])],1),a("v-uni-view",{staticClass:"currency-wrap flex-set"},[a("v-uni-view",{staticClass:"left-wrap flex-set"},[a("v-uni-view",{staticClass:"item"},[t._v("我的鲜花"),a("v-uni-text",{staticClass:"color flower"},[t._v(t._s(t.userCurrency.flower))])],1),a("v-uni-view",{staticClass:"item"},[t._v("我的钻石"),a("v-uni-text",{staticClass:"color stone"},[t._v(t._s(t.userCurrency.stone))])],1)],1)],1),a("v-uni-view",{staticClass:"tips-content"},[t.farm_distance?a("v-uni-view",{staticClass:"row"},[t._v("农场产量:"),a("v-uni-text",[t._v(t._s(t.farm_coin))]),t._v("金豆/100秒,距离农场满级还差"),a("v-uni-text",[t._v(t._s(t.farm_distance))])],1):t._e(),t.userGap?a("v-uni-view",{staticClass:"row"},[t._v("粉丝等级:"),a("v-uni-text",[t._v("Lv"+t._s(t.userLevel))]),t._v("距离下一级还差"),a("v-uni-text",[t._v(t._s(t.userGap))]),t._v("人气")],1):t._e()],1),t.$app.getData("config").recharge_title?a("v-uni-view",{staticClass:"title-top"},[t._v(t._s(t.$app.getData("config").recharge_title))]):t._e(),a("v-uni-view",{staticClass:"title flower"},[t._v("—— 购买鲜花 ——")]),a("v-uni-view",{staticClass:"tips"},[t._v("可提高爱豆人气与粉丝等级")]),a("v-uni-view",{staticClass:"list-container"},t._l(t.rechargeList,function(e,i){return e.flower?a("v-uni-view",{key:i,staticClass:"item-wrap",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.payment(e.flower,"flower")}}},[t.discount.text?a("v-uni-view",{staticClass:"badge"},[t._v(t._s(t.discount.text))]):t._e(),a("v-uni-view",{staticClass:"row flower-count flex-set"},[a("v-uni-text",{staticClass:"num"},[t._v(t._s(t.$app.formatNumber(e.flower,1)))]),t._v("鲜花")],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-image",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/w5pLFvdua9E7MFExyreICyFJqp5RoRBL1oVeg1YBz2QeHPIunT0CkpeGpUvc67X4uJbiaSEicXHJcLLLTJRdOiaaw/0",mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"row btn"},[t._v(t._s(e.fee)+"元")])],1):t._e()}),1),a("v-uni-view",{staticClass:"self-input-wrap"},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"自定义鲜花(需大于10万)"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.selfInputFlower=e.detail.value}}}),t.discount.text?a("v-uni-view",{staticClass:"badge"},[t._v(t._s(t.discount.text))]):t._e(),a("btnComponent",{attrs:{type:"default"}},[a("v-uni-view",{staticClass:"btn flex-set",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payment(t.selfInputFlower,"flower")}}},[t._v("确认购买")])],1)],1),a("v-uni-view",{staticClass:"title stone"},[t._v("—— 购买钻石 ——")]),a("v-uni-view",{staticClass:"tips"},[t._v("可升级农场与狗狗技能")]),a("v-uni-view",{staticClass:"list-container"},t._l(t.rechargeList,function(e,i){return e.stone?a("v-uni-view",{key:i,staticClass:"item-wrap",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.payment(e.stone,"stone")}}},[t.discount.text?a("v-uni-view",{staticClass:"badge"},[t._v(t._s(t.discount.text))]):t._e(),a("v-uni-view",{staticClass:"row flower-count flex-set"},[a("v-uni-text",{staticClass:"num stone"},[t._v(t._s(e.stone||0))]),t._v("钻石")],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-image",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/w5pLFvdua9E7MFExyreICyFJqp5RoRBLkbLd15sXOSTiaL8IctOvWViaYBR9y8BKaMUazEmy6Am0BMqsXqsmJtaA/0",mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"row btn"},[t._v(t._s(e.fee)+"元")])],1):t._e()}),1),a("v-uni-view",{staticClass:"self-input-wrap"},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"自定义钻石(需大于10颗)"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.selfInputStone=e.detail.value}}}),t.discount.text?a("v-uni-view",{staticClass:"badge"},[t._v(t._s(t.discount.text))]):t._e(),a("btnComponent",{attrs:{type:"default"}},[a("v-uni-view",{staticClass:"btn flex-set",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payment(t.selfInputStone,"stone")}}},[t._v("确认购买")])],1)],1),a("v-uni-view",{staticClass:"recharge"},[t._v("充值即表示您同意"),a("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$app.goPage("/pages/notice/notice?id=6")}}},[t._v("爱豆圈子用户充值协议")])],1),"proxyRecharge"==t.modal?a("modalComponent",{attrs:{title:"代充值"},on:{closeModal:function(e){arguments[0]=e=t.$handleEvent(e),t.modal=""}}},[a("v-uni-view",{staticClass:"proxy-modal-container"},[a("v-uni-view",{staticClass:"top"},[a("v-uni-image",{staticClass:"avatar",attrs:{src:t.currentUser.avatarurl||t.$app.getData("AVATAR"),mode:"scaleToFill"}}),a("v-uni-view",{staticClass:"nickname"},[t._v(t._s(t.currentUser.nickname))])],1),a("v-uni-view",{staticClass:"send-input"},[a("v-uni-input",{attrs:{type:"number","confirm-type":"search",value:t.currentUserid,placeholder:"请输入对方的ID"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.kickBack()},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.searchUser()},input:function(e){arguments[0]=e=t.$handleEvent(e),t.currentUserid=e.detail.value}}})],1),a("btnComponent",{attrs:{type:"default"}},[a("v-uni-view",{staticClass:"btn flex-set",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchUser()}}},[t._v("查找用户")])],1),a("btnComponent",{attrs:{type:"default"}},[a("v-uni-view",{staticClass:"btn flex-set",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm()}}},[t._v("为TA充值")])],1)],1)],1):t._e()],1)},o=[];a.d(e,"b",function(){return n}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return i})},"3b60":function(t,e,a){"use strict";a.r(e);var i=a("22a0"),n=a("7729");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("b32f");var r,c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"5fcbfd91",null,!1,i["a"],r);e["default"]=s.exports},7729:function(t,e,a){"use strict";a.r(e);var i=a("c284"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},8131:function(t,e,a){var i=a("b57f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("5f819aaf",i,!0,{sourceMap:!1,shadowMode:!1})},b32f:function(t,e,a){"use strict";var i=a("8131"),n=a.n(i);n.a},b57f:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.no-data[data-v-5fcbfd91]{position:fixed;top:30%;text-align:center;width:100%}.charge-page-container[data-v-5fcbfd91]{padding-bottom:%?40?%}.charge-page-container .top-row[data-v-5fcbfd91]{padding:%?20?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.charge-page-container .top-row .avatar[data-v-5fcbfd91]{width:%?90?%;height:%?90?%;border-radius:50%}.charge-page-container .top-row .nickname[data-v-5fcbfd91]{font-size:%?34?%;margin:%?10?%}.charge-page-container .top-row .right-wrap[data-v-5fcbfd91]{padding:%?10?% %?20?%;font-size:%?38?%;background-color:#fbcc3e;border-radius:%?40?%}.charge-page-container .tab-wrap[data-v-5fcbfd91]{padding:%?25?% %?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?32?%;border-bottom:%?2?% solid #efefef}.charge-page-container .tab-wrap .item[data-v-5fcbfd91]{position:relative;z-index:1;line-height:1.2;padding:0 %?20?%}.charge-page-container .tab-wrap .item.active[data-v-5fcbfd91]{font-size:%?42?%;font-weight:700}.charge-page-container .tab-wrap .item.active[data-v-5fcbfd91]:after{content:"";position:absolute;z-index:-1;bottom:0;height:%?18?%;width:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-radius:%?20?%;background-color:#ffd75e}.charge-page-container .currency-wrap[data-v-5fcbfd91]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?10?% %?40?%;font-size:%?30?%;border-bottom:%?10?% solid #f8f8f8}.charge-page-container .currency-wrap .item[data-v-5fcbfd91]{margin-right:%?20?%}.charge-page-container .currency-wrap .item .color[data-v-5fcbfd91]{font-weight:700;font-size:%?30?%;margin-left:%?10?%}.charge-page-container .currency-wrap .item .color.flower[data-v-5fcbfd91]{color:#fb4782}.charge-page-container .currency-wrap .item .color.stone[data-v-5fcbfd91]{color:#2599ff}.charge-page-container .tips-content[data-v-5fcbfd91]{padding:%?5?% %?20?%;color:#919191}.charge-page-container .tips-content .row[data-v-5fcbfd91]{font-size:%?26?%}.charge-page-container .tips-content .row uni-text[data-v-5fcbfd91]{margin:0 %?10?%;color:#fbcc3e;font-weight:700}.charge-page-container .title-top[data-v-5fcbfd91]{font-size:%?40?%;font-weight:700;text-align:center;color:red}.charge-page-container .tips[data-v-5fcbfd91]{font-size:%?24?%;padding-bottom:%?10?%;color:#bdbdbd;text-align:center}.charge-page-container .title[data-v-5fcbfd91]{text-align:center;font-size:%?38?%;padding-top:%?10?%;color:#f1cb48}.charge-page-container .title.stone[data-v-5fcbfd91]{color:#3caffb}.charge-page-container .title.flower[data-v-5fcbfd91]{color:#fa79a6}.charge-page-container .badge[data-v-5fcbfd91]{position:absolute;border-radius:%?60?%;background-color:#ffa154;color:#fff;z-index:5;top:%?105?%;right:%?35?%;font-size:%?20?%;padding:%?5?% %?10?%}.charge-page-container .list-container[data-v-5fcbfd91]{border-radius:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:0 %?20?%}.charge-page-container .list-container .item-wrap[data-v-5fcbfd91]{width:%?165?%;margin:%?10?% 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;border:%?2?% solid #e6e4e5;border-radius:%?20?%;background-color:#f7f5f6;box-shadow:0 0 %?4?% hsla(0,0%,40%,.3);position:relative}.charge-page-container .list-container .item-wrap .top[data-v-5fcbfd91]{color:#fff;background:-webkit-linear-gradient(left,#fb5088,#fff6f9);background:linear-gradient(90deg,#fb5088,#fff6f9);padding:%?5?% %?20?%;font-size:%?24?%;width:100%;text-align:left}.charge-page-container .list-container .item-wrap .flower-count[data-v-5fcbfd91]{padding-top:%?10?%;font-size:%?24?%}.charge-page-container .list-container .item-wrap .flower-count .num[data-v-5fcbfd91]{color:#fb4782;font-weight:700;font-size:%?26?%}.charge-page-container .list-container .item-wrap .flower-count .num.stone[data-v-5fcbfd91]{color:#2599ff}.charge-page-container .list-container .item-wrap uni-image[data-v-5fcbfd91]{width:%?100?%;height:%?100?%}.charge-page-container .list-container .item-wrap .add[data-v-5fcbfd91]{line-height:1}.charge-page-container .list-container .item-wrap uni-image.stone[data-v-5fcbfd91]{width:%?50?%;height:%?50?%}.charge-page-container .list-container .item-wrap .btn[data-v-5fcbfd91]{padding:0 %?20?%;border-radius:%?20?%;font-size:%?24?%;margin:%?10?% 0 %?20?%;background-color:#e8679c;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.charge-page-container .self-input-wrap[data-v-5fcbfd91]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?20?%;position:relative}.charge-page-container .self-input-wrap .input[data-v-5fcbfd91]{height:auto;-webkit-box-flex:1;-webkit-flex:1;flex:1;border:%?2?% solid #e6e4e5;background-color:#f7f5f6;font-size:%?30?%;border-radius:%?40?%;padding:%?10?% %?30?%;margin-right:%?20?%}.charge-page-container .self-input-wrap .badge[data-v-5fcbfd91]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:%?280?%}.charge-page-container .self-input-wrap .btn[data-v-5fcbfd91]{padding:%?15?% %?50?%}.charge-page-container .recharge[data-v-5fcbfd91]{font-size:%?24?%;text-align:center;margin-top:%?30?%}.charge-page-container .recharge uni-text[data-v-5fcbfd91]{color:#fbcc3e;text-decoration:underline}.charge-page-container .proxy-modal-container[data-v-5fcbfd91]{height:%?640?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;padding:%?40?%}.charge-page-container .proxy-modal-container .top[data-v-5fcbfd91]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:1.6}.charge-page-container .proxy-modal-container .top .avatar[data-v-5fcbfd91]{width:%?160?%;height:%?160?%;border-radius:50%}.charge-page-container .proxy-modal-container .top .nickname[data-v-5fcbfd91]{font-size:%?36?%;font-weight:600;height:%?80?%}.charge-page-container .proxy-modal-container .btn-list[data-v-5fcbfd91]{width:100%;-webkit-justify-content:space-around;justify-content:space-around}.charge-page-container .proxy-modal-container .btn-list .btn-item[data-v-5fcbfd91]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.charge-page-container .proxy-modal-container .btn-list .btn-item .bg[data-v-5fcbfd91]{background-color:#fff;border-radius:%?20?%;width:%?100?%;height:%?100?%}.charge-page-container .proxy-modal-container .btn-list .btn-item .bg uni-image[data-v-5fcbfd91]{width:%?60?%;height:%?60?%}.charge-page-container .proxy-modal-container .btn-list .btn-item .text[data-v-5fcbfd91]{margin-top:%?10?%}.charge-page-container .proxy-modal-container .content[data-v-5fcbfd91]{line-height:1.6}.charge-page-container .proxy-modal-container .btn[data-v-5fcbfd91]{font-size:%?32?%;font-weight:700;width:%?300?%;height:%?80?%}.charge-page-container .proxy-modal-container .row[data-v-5fcbfd91]{width:100%;-webkit-justify-content:space-around;justify-content:space-around}.charge-page-container .proxy-modal-container .row .btn[data-v-5fcbfd91]{width:%?200?%}.charge-page-container .proxy-modal-container .send-input[data-v-5fcbfd91]{position:relative}.charge-page-container .proxy-modal-container .send-input uni-input[data-v-5fcbfd91]{background-color:#eee;border-radius:%?60?%;text-align:center;width:%?300?%;height:%?80?%;font-size:%?32?%;font-weight:700}.charge-page-container .proxy-modal-container .send-input uni-image[data-v-5fcbfd91]{position:absolute;width:%?50?%;height:%?50?%;right:%?20?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.charge-page-container .select-container[data-v-5fcbfd91]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.charge-page-container .select-container .picker[data-v-5fcbfd91]{border:1px solid #ccc;background-color:#eee;border-radius:%?60?%;text-align:center;font-size:%?32?%;padding:0 %?10?% 0 %?30?%}.charge-page-container .select-container .picker uni-image[data-v-5fcbfd91]{margin-top:%?24?%;width:%?30?%;height:%?30?%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}',""])},c284:function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=i(a("e814")),r=i(a("9e6f")),c=i(a("6b46")),s=i(a("f9d3")),d={components:{btnComponent:r.default,badgeComponent:c.default,modalComponent:s.default},data:function(){return{$app:this.$app,modal:"",requestCount:1,tabActive:0,userInfo:{avatarurl:this.$app.getData("userInfo")["avatarurl"]||this.$app.getData("AVATAR"),nickname:this.$app.getData("userInfo")["nickname"]||this.$app.getData("NICKNAME"),id:this.$app.getData("userInfo")["id"]||null},userCurrency:this.$app.getData("userCurrency")||{coin:0,stone:0,trumpet:0},rechargeList:this.$app.getData("goodsList")||[],tehui_show:!1,discount:{},discount_option:[],discount_option_index:0,currentUser:{},currentUserid:"",selfInputStone:0,selfInputFlower:0,userLevel:0,userGap:0,farm_coin:0,farm_distance:0}},onLoad:function(){var t=this,e=setInterval(function(){t.$app.token&&(clearInterval(e),t.getGoodsList(0),t.userInfo=t.$app.getData("userInfo"),t.userCurrency=t.$app.getData("userCurrency"))},300)},onUnload:function(){clearInterval(n)},methods:{kickBack:function(){setTimeout(function(){window.scrollTo(0,document.body.scrollTop+1),document.body.scrollTop>=1&&window.scrollTo(0,document.body.scrollTop-1)},10)},confirm:function(){this.currentUser.nickname?(this.userInfo=this.currentUser,this.modal=""):this.$app.toast("请先查找用户")},searchUser:function(){var t=this;if(this.currentUserid){var e=Math.round(this.currentUserid/1234);this.$app.request("user/info",{user_id:e},function(e){e.data.nickname?t.currentUser=e.data:t.$app.toast("未找到用户")},"POST",!0)}},payment:function(t,e){var a=this;(0,o.default)(t)<=0?this.$app.toast("请输入正确的数值"):this.$app.request(this.$app.API.PAY_ORDER,{count:t,type:e,user_id:this.userInfo.id},function(t){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.data.appId,timeStamp:t.data.timeStamp,nonceStr:t.data.nonceStr,package:t.data.package,signType:t.data.signType,paySign:t.data.paySign},function(t){console.log(t),"get_brand_wcpay_request:ok"==t.err_msg&&(a.$app.toast("支付成功","success"),a.$app.request(a.$app.API.USER_CURRENCY,{},function(t){a.$app.setData("userCurrency",t.data),a.userCurrency=a.$app.getData("userCurrency"),a.modal=""}),a.discount_option_index=0,a.getGoodsList(0))})},"POST",!0)},getGoodsList:function(t){var e=this;this.$app.request(this.$app.API.PAY_GOODS,{userprop_id:t},function(t){e.rechargeList=t.data.list,e.discount=t.data.discount,e.farm_distance=t.data.farm_distance,e.farm_coin=t.data.farm_coin,e.$app.setData("goodsList",e.rechargeList),t.data.toast?e.$app.toast(t.data.toast):t.data.modal&&e.$app.modal(t.data.modal)}),this.$app.request("user/level",{user_id:this.userInfo.id},function(t){e.userLevel=t.data.level,e.userGap=t.data.gap?(t.data.gap/1e4).toFixed(1)+"万":"0"})},bindPickerChange:function(t){this.discount_option_index=t.target.value,this.getGoodsList(this.discount_option[this.discount_option_index].id)}}};e.default=d}}]);