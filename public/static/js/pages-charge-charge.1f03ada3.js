(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-charge-charge"],{"1ec4":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,'.no-data[data-v-4479d5ae]{position:fixed;top:30%;text-align:center;width:100%}.charge-page-container[data-v-4479d5ae]{padding-bottom:%?40?%}.charge-page-container .top-row[data-v-4479d5ae]{padding:%?20?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.charge-page-container .top-row .avatar[data-v-4479d5ae]{width:%?90?%;height:%?90?%;border-radius:50%}.charge-page-container .top-row .nickname[data-v-4479d5ae]{font-size:%?34?%;margin:%?10?%}.charge-page-container .top-row .right-wrap[data-v-4479d5ae]{padding:%?10?% %?20?%;font-size:%?38?%;background-color:#fbcc3e;border-radius:%?40?%}.charge-page-container .tab-wrap[data-v-4479d5ae]{padding:%?25?% %?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?32?%;border-bottom:%?2?% solid #efefef}.charge-page-container .tab-wrap .item[data-v-4479d5ae]{position:relative;z-index:1;line-height:1.2;padding:0 %?20?%}.charge-page-container .tab-wrap .item.active[data-v-4479d5ae]{font-size:%?42?%;font-weight:700}.charge-page-container .tab-wrap .item.active[data-v-4479d5ae]:after{content:"";position:absolute;z-index:-1;bottom:0;height:%?18?%;width:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-radius:%?20?%;background-color:#ffd75e}.charge-page-container .currency-wrap[data-v-4479d5ae]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?10?% %?40?%;font-size:%?30?%;border-bottom:%?10?% solid #f8f8f8}.charge-page-container .currency-wrap .item[data-v-4479d5ae]{margin-right:%?20?%}.charge-page-container .currency-wrap .item .color[data-v-4479d5ae]{font-weight:700;font-size:%?30?%;margin-left:%?10?%}.charge-page-container .currency-wrap .item .color.flower[data-v-4479d5ae]{color:#fb4782}.charge-page-container .currency-wrap .item .color.stone[data-v-4479d5ae]{color:#2599ff}.charge-page-container .tips-content[data-v-4479d5ae]{padding:%?5?% %?20?%;color:#919191}.charge-page-container .tips-content .row[data-v-4479d5ae]{font-size:%?26?%}.charge-page-container .tips-content .row uni-text[data-v-4479d5ae]{margin:0 %?10?%;color:#fbcc3e;font-weight:700}.charge-page-container .title-top[data-v-4479d5ae]{font-size:%?40?%;font-weight:700;text-align:center;color:red}.charge-page-container .tips[data-v-4479d5ae]{font-size:%?24?%;padding-bottom:%?10?%;color:#bdbdbd;text-align:center}.charge-page-container .title[data-v-4479d5ae]{text-align:center;font-size:%?38?%;padding-top:%?10?%;color:#f1cb48}.charge-page-container .title.stone[data-v-4479d5ae]{color:#3caffb}.charge-page-container .title.flower[data-v-4479d5ae]{color:#fa79a6}.charge-page-container .badge[data-v-4479d5ae]{position:absolute;border-radius:%?60?%;background-color:#ffa154;color:#fff;z-index:5;top:%?105?%;right:%?35?%;font-size:%?20?%;padding:%?5?% %?10?%}.charge-page-container .list-container[data-v-4479d5ae]{border-radius:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:0 %?20?%}.charge-page-container .list-container .item-wrap[data-v-4479d5ae]{width:%?220?%;margin:%?10?% 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;border:%?2?% solid #e6e4e5;border-radius:%?20?%;background-color:#f7f5f6;box-shadow:0 0 %?4?% hsla(0,0%,40%,.3);position:relative}.charge-page-container .list-container .item-wrap .top[data-v-4479d5ae]{color:#fff;background:-webkit-linear-gradient(left,#fb5088,#fff6f9);background:linear-gradient(90deg,#fb5088,#fff6f9);padding:%?5?% %?20?%;font-size:%?24?%;width:100%;text-align:left}.charge-page-container .list-container .item-wrap .flower-count[data-v-4479d5ae]{padding-top:%?10?%;font-size:%?24?%}.charge-page-container .list-container .item-wrap .flower-count .num[data-v-4479d5ae]{color:#fb4782;font-weight:700;font-size:%?26?%}.charge-page-container .list-container .item-wrap .flower-count .num.stone[data-v-4479d5ae]{color:#2599ff}.charge-page-container .list-container .item-wrap uni-image[data-v-4479d5ae]{width:%?100?%;height:%?100?%}.charge-page-container .list-container .item-wrap .add[data-v-4479d5ae]{line-height:1}.charge-page-container .list-container .item-wrap uni-image.stone[data-v-4479d5ae]{width:%?50?%;height:%?50?%}.charge-page-container .list-container .item-wrap .btn[data-v-4479d5ae]{padding:0 %?20?%;border-radius:%?20?%;font-size:%?24?%;margin:%?10?% 0 %?20?%;background-color:#e8679c;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.charge-page-container .self-input-wrap[data-v-4479d5ae]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?20?%;position:relative}.charge-page-container .self-input-wrap .input[data-v-4479d5ae]{height:auto;-webkit-box-flex:1;-webkit-flex:1;flex:1;border:%?2?% solid #e6e4e5;background-color:#f7f5f6;font-size:%?30?%;border-radius:%?40?%;padding:%?10?% %?30?%;margin-right:%?20?%}.charge-page-container .self-input-wrap .badge[data-v-4479d5ae]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:%?280?%}.charge-page-container .self-input-wrap .btn[data-v-4479d5ae]{padding:%?15?% %?50?%}.charge-page-container .recharge[data-v-4479d5ae]{font-size:%?24?%;text-align:center;margin-top:%?30?%}.charge-page-container .recharge uni-text[data-v-4479d5ae]{color:#fbcc3e;text-decoration:underline}.charge-page-container .proxy-modal-container[data-v-4479d5ae]{height:%?640?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;padding:%?40?%}.charge-page-container .proxy-modal-container .top[data-v-4479d5ae]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:1.6}.charge-page-container .proxy-modal-container .top .avatar[data-v-4479d5ae]{width:%?160?%;height:%?160?%;border-radius:50%}.charge-page-container .proxy-modal-container .top .nickname[data-v-4479d5ae]{font-size:%?36?%;font-weight:600;height:%?80?%}.charge-page-container .proxy-modal-container .btn-list[data-v-4479d5ae]{width:100%;-webkit-justify-content:space-around;justify-content:space-around}.charge-page-container .proxy-modal-container .btn-list .btn-item[data-v-4479d5ae]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.charge-page-container .proxy-modal-container .btn-list .btn-item .bg[data-v-4479d5ae]{background-color:#fff;border-radius:%?20?%;width:%?100?%;height:%?100?%}.charge-page-container .proxy-modal-container .btn-list .btn-item .bg uni-image[data-v-4479d5ae]{width:%?60?%;height:%?60?%}.charge-page-container .proxy-modal-container .btn-list .btn-item .text[data-v-4479d5ae]{margin-top:%?10?%}.charge-page-container .proxy-modal-container .content[data-v-4479d5ae]{line-height:1.6}.charge-page-container .proxy-modal-container .btn[data-v-4479d5ae]{font-size:%?32?%;font-weight:700;width:%?300?%;height:%?80?%}.charge-page-container .proxy-modal-container .row[data-v-4479d5ae]{width:100%;-webkit-justify-content:space-around;justify-content:space-around}.charge-page-container .proxy-modal-container .row .btn[data-v-4479d5ae]{width:%?200?%}.charge-page-container .proxy-modal-container .send-input[data-v-4479d5ae]{position:relative}.charge-page-container .proxy-modal-container .send-input uni-input[data-v-4479d5ae]{background-color:#eee;border-radius:%?60?%;text-align:center;width:%?300?%;height:%?80?%;font-size:%?32?%;font-weight:700}.charge-page-container .proxy-modal-container .send-input uni-image[data-v-4479d5ae]{position:absolute;width:%?50?%;height:%?50?%;right:%?20?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.charge-page-container .select-container[data-v-4479d5ae]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.charge-page-container .select-container .picker[data-v-4479d5ae]{border:1px solid #ccc;background-color:#eee;border-radius:%?60?%;text-align:center;font-size:%?32?%;padding:0 %?10?% 0 %?30?%}.charge-page-container .select-container .picker uni-image[data-v-4479d5ae]{margin-top:%?24?%;width:%?30?%;height:%?30?%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}',""])},"3b60":function(e,t,a){"use strict";a.r(t);var i=a("8e98"),n=a("7729");for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);a("c0b5");var r,s=a("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"4479d5ae",null,!1,i["a"],r);t["default"]=c.exports},7729:function(e,t,a){"use strict";a.r(t);var i=a("c284"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,function(){return i[e]})}(o);t["default"]=n.a},"8e98":function(e,t,a){"use strict";var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$app.getData("config").version==e.$app.getData("VERSION")||0!=e.$app.chargeSwitch()?a("v-uni-view",{staticClass:"no-data"},[e._v("由于政策原因，不支持在应用内购买")]):a("v-uni-view",{staticClass:"charge-page-container"},[a("v-uni-view",{staticClass:"top-row flex-set"},[a("v-uni-view",{staticClass:"left-wrap flex-set"},[a("v-uni-image",{staticClass:"avatar",attrs:{src:e.userInfo.avatarurl,mode:"aspectFill"}}),a("v-uni-view",{staticClass:"nickname"},[e._v(e._s(e.userInfo.nickname))])],1),a("v-uni-view",{staticClass:"right-wrap flex-set",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.modal="proxyRecharge"}}},[e._v("为好友充值")])],1),a("v-uni-view",{staticClass:"currency-wrap flex-set"},[a("v-uni-view",{staticClass:"left-wrap flex-set"},[a("v-uni-view",{staticClass:"item"},[e._v("我的鲜花"),a("v-uni-text",{staticClass:"color flower"},[e._v(e._s(e.userCurrency.flower))])],1),a("v-uni-view",{staticClass:"item"},[e._v("我的钻石"),a("v-uni-text",{staticClass:"color stone"},[e._v(e._s(e.userCurrency.stone))])],1)],1)],1),a("v-uni-view",{staticClass:"tips-content"},[e.farm_distance?a("v-uni-view",{staticClass:"row"},[e._v("农场产量:"),a("v-uni-text",[e._v(e._s(e.farm_coin))]),e._v("金豆/100秒,距离农场满级还差"),a("v-uni-text",[e._v(e._s(e.farm_distance))])],1):e._e(),e.userGap?a("v-uni-view",{staticClass:"row"},[e._v("粉丝等级:"),a("v-uni-text",[e._v("Lv"+e._s(e.userLevel))]),e._v("距离下一级还差"),a("v-uni-text",[e._v(e._s(e.userGap))]),e._v("人气")],1):e._e()],1),e.$app.getData("config").recharge_title?a("v-uni-view",{staticClass:"title-top"},[e._v(e._s(e.$app.getData("config").recharge_title))]):e._e(),a("v-uni-view",{staticClass:"title flower"},[e._v("—— 购买鲜花 ——")]),a("v-uni-view",{staticClass:"tips"},[e._v("可提高爱豆人气与粉丝等级")]),a("v-uni-view",{staticClass:"list-container"},e._l(e.rechargeList,function(t,i){return t.flower?a("v-uni-view",{key:i,staticClass:"item-wrap",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.payment(t.flower,"flower")}}},[e.discount.text?a("v-uni-view",{staticClass:"badge"},[e._v(e._s(e.discount.text))]):e._e(),a("v-uni-view",{staticClass:"row flower-count flex-set"},[a("v-uni-text",{staticClass:"num"},[e._v(e._s(e.$app.formatNumber(t.flower,1)))]),e._v("鲜花")],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-image",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/w5pLFvdua9E7MFExyreICyFJqp5RoRBL1oVeg1YBz2QeHPIunT0CkpeGpUvc67X4uJbiaSEicXHJcLLLTJRdOiaaw/0",mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"row btn"},[e._v(e._s(t.fee)+"元")])],1):e._e()}),1),a("v-uni-view",{staticClass:"self-input-wrap"},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"自定义鲜花(需大于100万)"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.selfInputFlower=t.detail.value}}}),e.discount.text?a("v-uni-view",{staticClass:"badge"},[e._v(e._s(e.discount.text))]):e._e(),a("btnComponent",{attrs:{type:"default"}},[a("v-uni-view",{staticClass:"btn flex-set",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.payment(e.selfInputFlower,"flower")}}},[e._v("确认购买")])],1)],1),a("v-uni-view",{staticClass:"title stone"},[e._v("—— 购买钻石 ——")]),a("v-uni-view",{staticClass:"tips"},[e._v("可升级农场与狗狗技能")]),a("v-uni-view",{staticClass:"list-container"},e._l(e.rechargeList,function(t,i){return t.stone?a("v-uni-view",{key:i,staticClass:"item-wrap",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.payment(t.stone,"stone")}}},[e.discount.text?a("v-uni-view",{staticClass:"badge"},[e._v(e._s(e.discount.text))]):e._e(),a("v-uni-view",{staticClass:"row flower-count flex-set"},[a("v-uni-text",{staticClass:"num stone"},[e._v(e._s(t.stone||0))]),e._v("钻石")],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-image",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/w5pLFvdua9E7MFExyreICyFJqp5RoRBLkbLd15sXOSTiaL8IctOvWViaYBR9y8BKaMUazEmy6Am0BMqsXqsmJtaA/0",mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"row btn"},[e._v(e._s(t.fee)+"元")])],1):e._e()}),1),a("v-uni-view",{staticClass:"self-input-wrap"},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"自定义钻石(需大于100颗)"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.selfInputStone=t.detail.value}}}),e.discount.text?a("v-uni-view",{staticClass:"badge"},[e._v(e._s(e.discount.text))]):e._e(),a("btnComponent",{attrs:{type:"default"}},[a("v-uni-view",{staticClass:"btn flex-set",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.payment(e.selfInputStone,"stone")}}},[e._v("确认购买")])],1)],1),a("v-uni-view",{staticClass:"recharge"},[e._v("充值即表示您同意"),a("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$app.goPage("/pages/notice/notice?id=6")}}},[e._v("爱豆圈子用户充值协议")])],1),"proxyRecharge"==e.modal?a("modalComponent",{attrs:{title:"代充值"},on:{closeModal:function(t){arguments[0]=t=e.$handleEvent(t),e.modal=""}}},[a("v-uni-view",{staticClass:"proxy-modal-container"},[a("v-uni-view",{staticClass:"top"},[a("v-uni-image",{staticClass:"avatar",attrs:{src:e.currentUser.avatarurl||e.$app.getData("AVATAR"),mode:"scaleToFill"}}),a("v-uni-view",{staticClass:"nickname"},[e._v(e._s(e.currentUser.nickname))])],1),a("v-uni-view",{staticClass:"send-input"},[a("v-uni-input",{attrs:{type:"number","confirm-type":"search",value:e.currentUserid,placeholder:"请输入对方的ID"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.kickBack()},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.searchUser()},input:function(t){arguments[0]=t=e.$handleEvent(t),e.currentUserid=t.detail.value}}})],1),a("btnComponent",{attrs:{type:"default"}},[a("v-uni-view",{staticClass:"btn flex-set",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchUser()}}},[e._v("查找用户")])],1),a("btnComponent",{attrs:{type:"default"}},[a("v-uni-view",{staticClass:"btn flex-set",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm()}}},[e._v("为TA充值")])],1)],1)],1):e._e()],1)},o=[];a.d(t,"b",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return i})},c0b5:function(e,t,a){"use strict";var i=a("fb2a"),n=a.n(i);n.a},c284:function(e,t,a){"use strict";var i=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=i(a("e814")),r=i(a("9e6f")),s=i(a("6b46")),c=i(a("f9d3")),d={components:{btnComponent:r.default,badgeComponent:s.default,modalComponent:c.default},data:function(){return{$app:this.$app,modal:"",requestCount:1,tabActive:0,userInfo:{avatarurl:this.$app.getData("userInfo")["avatarurl"]||this.$app.getData("AVATAR"),nickname:this.$app.getData("userInfo")["nickname"]||this.$app.getData("NICKNAME"),id:this.$app.getData("userInfo")["id"]||null},userCurrency:this.$app.getData("userCurrency")||{coin:0,stone:0,trumpet:0},rechargeList:this.$app.getData("goodsList")||[],tehui_show:!1,discount:{},discount_option:[],discount_option_index:0,currentUser:{},currentUserid:"",selfInputStone:0,selfInputFlower:0,userLevel:0,userGap:0,farm_coin:0,farm_distance:0}},onLoad:function(){var e=this,t=setInterval(function(){e.$app.token&&(clearInterval(t),e.getGoodsList(0),e.userInfo=e.$app.getData("userInfo"),e.userCurrency=e.$app.getData("userCurrency"))},300)},onUnload:function(){clearInterval(n)},methods:{kickBack:function(){setTimeout(function(){window.scrollTo(0,document.body.scrollTop+1),document.body.scrollTop>=1&&window.scrollTo(0,document.body.scrollTop-1)},10)},confirm:function(){this.currentUser.nickname?(this.userInfo=this.currentUser,this.modal=""):this.$app.toast("请先查找用户")},searchUser:function(){var e=this;if(this.currentUserid){var t=Math.round(this.currentUserid/1234);this.$app.request("user/info",{user_id:t},function(t){t.data.nickname?e.currentUser=t.data:e.$app.toast("未找到用户")},"POST",!0)}},payment:function(e,t){var a=this;(0,o.default)(e)<=0?this.$app.toast("请输入正确的数值"):this.$app.request(this.$app.API.PAY_ORDER,{count:e,type:t,user_id:this.userInfo.id},function(e){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.data.appId,timeStamp:e.data.timeStamp,nonceStr:e.data.nonceStr,package:e.data.package,signType:e.data.signType,paySign:e.data.paySign,profit_sharing:"Y"},function(e){console.log(e),"get_brand_wcpay_request:ok"==e.err_msg&&(a.$app.toast("支付成功","success"),a.$app.request(a.$app.API.USER_CURRENCY,{},function(e){a.$app.setData("userCurrency",e.data),a.userCurrency=a.$app.getData("userCurrency"),a.modal=""}),a.discount_option_index=0,a.getGoodsList(0))})},"POST",!0)},getGoodsList:function(e){var t=this;this.$app.request(this.$app.API.PAY_GOODS,{userprop_id:e},function(e){t.rechargeList=e.data.list,t.discount=e.data.discount,t.farm_distance=e.data.farm_distance,t.farm_coin=e.data.farm_coin,t.$app.setData("goodsList",t.rechargeList),e.data.toast?t.$app.toast(e.data.toast):e.data.modal&&t.$app.modal(e.data.modal)}),this.$app.request("user/level",{user_id:this.userInfo.id},function(e){t.userLevel=e.data.level,t.userGap=e.data.gap?(e.data.gap/1e4).toFixed(1)+"万":"0"})},bindPickerChange:function(e){this.discount_option_index=e.target.value,this.getGoodsList(this.discount_option[this.discount_option_index].id)}}};t.default=d},fb2a:function(e,t,a){var i=a("1ec4");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("4661db00",i,!0,{sourceMap:!1,shadowMode:!1})}}]);