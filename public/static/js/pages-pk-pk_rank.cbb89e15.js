(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pk-pk_rank"],{3200:function(a,t,e){"use strict";e.r(t);var i=e("c88a"),n=e.n(i);for(var s in i)"default"!==s&&function(a){e.d(t,a,function(){return i[a]})}(s);t["default"]=n.a},"386d5":function(a,t,e){"use strict";var i=e("e53dc"),n=e.n(i);n.a},7435:function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,".rank-page-container[data-v-add2aab8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:100%}.rank-page-container .tab-container[data-v-add2aab8]{padding:%?25?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;border-bottom:%?1?% solid #eee}.rank-page-container .tab-container .tab-item[data-v-add2aab8]{border-radius:%?32?%;padding:%?10?% %?30?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?30?%;margin:0 %?20?%;color:#ff7e00;border:%?1?% solid #ffeac9}.rank-page-container .tab-container .tab-item.active[data-v-add2aab8]{background-color:#ffeac9;text-align:center;color:#ff9b2e}uni-page-body[data-v-add2aab8]{background-color:#fff;height:100%;overflow:hidden}.title[data-v-add2aab8]{padding:%?25?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;border-bottom:%?1?% solid #eee}.tab-active[data-v-add2aab8],.tab-nomal[data-v-add2aab8]{border-radius:%?32?%;border:%?1?% solid #ff7e00;padding:%?10?% %?20?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?30?%}.tab-active[data-v-add2aab8]{background-color:#ff7e00;text-align:center;color:#fff}.tab-nomal[data-v-add2aab8]{color:#ff7e00}.all-rank[data-v-add2aab8]{height:100%;width:100%;-webkit-transform:translateX(750px);transform:translateX(750px)}.week-rank[data-v-add2aab8]{height:100%;width:100%\n  /* position: absolute;\n  top:0;\n  left:0;\n  transform: translateX(-750px); */}.rank-item[data-v-add2aab8]{height:%?140?%;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?32?%;color:#323232;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?6?% %?35?%}.rank-item .index1[data-v-add2aab8]{margin:0 %?20?%;font-size:%?34?%;color:#686868}.pai[data-v-add2aab8]{width:%?55?%;height:%?55?%}.rank-item .index2[data-v-add2aab8]{color:#f78da6}.rank-item .index3[data-v-add2aab8]{color:#ba8cf7}.rank-item .index4[data-v-add2aab8]{color:#9dc0ee}.visiting-card .index4[data-v-add2aab8]{margin-right:%?20?%}.rank-item .index5[data-v-add2aab8]{color:#94edb5}.active.rank-item[data-v-add2aab8]{background-color:#fff}.head-img[data-v-add2aab8]{width:%?111?%;height:%?107?%;position:relative;top:%?6?%}.head-img uni-image[data-v-add2aab8]{width:%?95?%;height:%?95?%;border-radius:50%}.head-img uni-image.s[data-v-add2aab8]{width:%?58?%;height:%?58?%;position:absolute;right:0;bottom:%?-2?%}.visiting-card[data-v-add2aab8]{line-height:150%}.my-rank .visiting-card[data-v-add2aab8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.visiting-card .nickname[data-v-add2aab8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.visiting-card .level[data-v-add2aab8]{width:%?30?%;height:%?30?%}.visiting-card .flower[data-v-add2aab8]{color:#686868;font-size:%?24?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.visiting-card .share[data-v-add2aab8]{font-size:%?22?%;width:%?334?%}.flower uni-image[data-v-add2aab8]{width:%?30?%;height:%?30?%;vertical-align:middle;margin-right:%?6?%;margin-left:%?6?%}.my-rank[data-v-add2aab8]{background-color:#fff;border-top:%?1?% solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-around;justify-content:space-around;height:auto;bottom:0;position:fixed}.swiper[data-v-add2aab8]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.rankscrollbox[data-v-add2aab8]{height:100%}.rank-box[data-v-add2aab8]{padding-bottom:%?100?%}.starname[data-v-add2aab8]{background:-webkit-linear-gradient(#ff7e00,#fccd9f);color:#fff;padding:0 %?12?%;border-radius:%?12?%;font-size:%?20?%;box-shadow:0 0 1px rgba(0,0,0,.3);line-height:%?34?%}.nickname-text[data-v-add2aab8]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:%?320?%}.nickname-text.self[data-v-add2aab8]{max-width:%?250?%}.explain-long[data-v-add2aab8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;font-size:%?26?%;padding:%?20?%}.explain-row[data-v-add2aab8]{position:relative;margin:%?10?% 0}.explain-row .explain[data-v-add2aab8]{position:absolute;right:%?50?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:%?20?%}.give-btn[data-v-add2aab8]{width:%?160?%;height:%?65?%;margin:auto;background:#ff7e00;border-radius:%?50?%;text-align:center;line-height:%?65?%;color:#fff;font-size:%?28?%}.rank-item .right-btn[data-v-add2aab8]{position:absolute;right:%?80?%;border-bottom:%?2?% solid #ff7e00;color:#ff7e00;padding:%?10?% %?20?%}.bi-title[data-v-add2aab8]{text-align:center;font-size:%?26?%}.bi-title uni-text[data-v-add2aab8]{color:#ff7e00}.rank-item .out[data-v-add2aab8]{position:absolute;right:%?70?%;color:#999}.invit-btn[data-v-add2aab8]{font-size:%?32?%;background-color:#ff7e00;color:#fff;display:inline-block;border-radius:%?50?%;line-height:2;box-shadow:0 1px 2px rgba(0,0,0,.3);margin:%?10?%;padding:0 %?20?%}.color[data-v-add2aab8]{color:#fa7d09}body.?%PAGE?%[data-v-add2aab8]{background-color:#fff}",""])},a241:function(a,t,e){"use strict";var i,n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"rank-page-container"},[e("v-uni-view",{staticClass:"tab-container"},[e("v-uni-view",{staticClass:"tab-item",class:{active:0==a.current},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.current=0}}},[a._v("钻石争夺战")]),e("v-uni-view",{staticClass:"tab-item",class:{active:1==a.current},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.current=1}}},[a._v("鲜花争夺战")])],1),e("v-uni-swiper",{staticClass:"swiper",attrs:{current:a.current},on:{change:function(t){arguments[0]=t=a.$handleEvent(t),a.swiperChange.apply(void 0,arguments)}}},[a._l(2,function(t){return[e("v-uni-swiper-item",[0==a.pkStatus||a.pkTime?a._e():e("v-uni-view",{staticClass:"explain-long"},[e("v-uni-view",{},[a._v(a._s(1==a.pkStatus?"报名":"当前")+"场次："+a._s(a.timeSpace.start_time)+"-"+a._s(a.timeSpace.end_time))]),e("v-uni-view",{},[a._v(a._s(1==a.pkStatus?"开场倒计时":"距本场结束")+"："+a._s(a.timeLeft))])],1),a.pkTime?e("v-uni-view",{staticClass:"explain-long"},[e("v-uni-view",{},[a._v("场次："+a._s(a.yestoday?"昨天":"今天")+a._s(a.showTime)+"（已结束）")])],1):a._e(),e("v-uni-scroll-view",{staticClass:"rankscrollbox",attrs:{"scroll-y":!0},on:{scrolltolower:function(t){arguments[0]=t=a.$handleEvent(t),a.lower.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"rank-box"},[e("v-uni-view",{staticClass:"week-rank"},[1==a.pkStatus?e("v-uni-view",{staticClass:"bi-title"},[a._v("已有"),e("v-uni-text",{},[a._v(a._s(a.joinNum))]),a._v("人报名")],1):a._e(),e("v-uni-view",{staticClass:"flex-set"},[e("v-uni-button",{staticClass:"invit-btn",attrs:{"open-type":"share","data-sharetype":"share","data-shareid":"5"},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.buttonHandler.apply(void 0,arguments)}}},[a._v("召集好友一起参加团战")])],1),a._l(a.list,function(t,i){return[e("v-uni-view",{key:i+"_0",staticClass:"rank-item",attrs:{"data-mid":t.star_id,"data-page":"/pages/pk/pk_rank_user?starname="+t.name+"&current="+a.current+"&pkTime="+a.pkTime+"&mid="+t.star_id+"&yestoday="+a.yestoday},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.goPage.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"index1"},[a._v(a._s(2==a.pkStatus?i+1:""))]),e("v-uni-view",{staticClass:"head-img"},[e("v-uni-image",{attrs:{src:t.avatarurl?t.avatarurl:this.AVATAR}}),2==a.pkStatus&&i<3?e("v-uni-image",{staticClass:"s",attrs:{src:"/static/image/rank/p"+(i+1)+".png"}}):a._e()],1),e("v-uni-view",{staticClass:"visiting-card"},[e("v-uni-view",{staticClass:"nickname"},[e("v-uni-view",{staticClass:"nickname-text"},[a._v(a._s(t.name?t.name:"神秘粉丝"))]),t.adm?e("v-uni-view",{staticClass:"level ling"},[e("v-uni-image",{attrs:{src:"/image/ling.png"}})],1):a._e(),t.level?e("v-uni-image",{staticClass:"level",attrs:{src:"/static/image/user_level/lv"+t.level+".png"}}):a._e()],1),e("v-uni-view",{staticClass:"flower"},[1==a.pkStatus?[a._v("报名参加了本场团战")]:a._e(),2==a.pkStatus?[e("v-uni-text",{},[a._v("本场人气")]),e("v-uni-text",{staticClass:"color"},[a._v(a._s(t.hot))]),2==a.pkStatus?e("v-uni-image",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/w5pLFvdua9F3NAxlopF2oyvfuiaEjgJItws1tcmzFFLo4WGc38l7kibxxk1atGAcjALuqvyvLib3icFPyAicbsOOl3g/0"}}):a._e()]:a._e()],2)],1),a.mymid==t.star_id&&2==a.pkStatus?e("v-uni-view",{staticClass:"right-btn"},[a._v("粉丝贡献")]):a._e(),1!=a.pkStatus||!a.captain&&t.uid!=a.userInfo.id?a._e():e("v-uni-view",{staticClass:"out iconfont iconclose",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.out(t,i)}}})],1)]})],2)],1)],1)],1)]})],2),e("shareModalComponent",{ref:"shareModal"})],1)},s=[];e.d(t,"b",function(){return n}),e.d(t,"c",function(){return s}),e.d(t,"a",function(){return i})},c88a:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{starid:this.$app.getData("userStar").id,pkTimeList:[],curPkTime:{},myJoinType:"",current:0,rankList:[],tabList:[{name:"钻石争夺战"},{name:"鲜花争夺战"}],pkStatus:0,timeSpace:{},list:[],pkTime:"",mymid:this.$app.getData("userStar").id,showTime:"",yestoday:0,joinNum:0,timeLeft:"",userInfo:this.$app.getData("userInfo"),captain:this.$app.getData("userStar").captain}},onShareAppMessage:function(a){var t=a.target&&a.target.dataset.shareid;return this.$app.commonShareAppMessage(t)},onLoad:function(a){this.pkTime=a.pkTime||"",this.showTime=a.time||"",this.yestoday=a.yestoday||0,this.current=a.current,this.page=1,this.loadData()},methods:{buttonHandler:function(a){var t=a.target.dataset.sharetype;if("share"==t)a.target&&a.target.dataset.shareid},out:function(a,t){var e=this;this.$app.modal("将".concat(a.name,"移出本次团战?"),function(){e.$app.request("rank/pk_out",{mid:e.starid,uid:a.uid},function(a){e.$app.toast(a.msg),e.list.splice(t,1)})})},lower:function(){console.log(11),this.page++,this.page>10||this.loadData()},goPage:function(a){2==this.pkStatus&&(a.currentTarget.dataset.mid!=this.$app.getData("userStar").id&&1!=this.sAdm||this.$app.goPage(a.currentTarget.dataset.page))},swiperChange:function(a){this.page=1,this.rankList=[],this.loadData()},loadData:function(){var a=this;this.$app.request("rank/pk",{page:this.page,type:this.current||0,mid:this.$app.getData("userStar")["id"],pkTime:this.pkTime||"",yestoday:this.yestoday||0},function(t){var e=t.data;a.pkTime&&(e.status=2),1==a.page?1==e.status?a.list=e.userList:2==e.status&&(a.list=e.starList):1==e.status?a.list=a.list.concat(e.userList):2==e.status&&(a.list=a.list.concat(e.starList)),a.pkStatus=e.status,a.timeSpace=e.timeSpace||null,a.isJoin=e.isJoin||0,a.joinNum=e.joinNum||0,a.adm=e.isAdm||0,a.sAdm=e.sAdm||0,a.uid=e.uid;var i=a.$app.timeGethms(e.timeLeft);a.timeLeft=i.hour+"小时"+i.min+"分"+i.sec+"秒",clearInterval(a.timeId),a.timeId=setInterval(function(){var t=a.$app.timeGethms(--e.timeLeft);a.timeLeft=t.hour+"小时"+t.min+"分"+t.sec+"秒",e.timeLeft<=0&&clearInterval(a.timeId)},1e3)})}}};t.default=i},d9f7:function(a,t,e){"use strict";e.r(t);var i=e("a241"),n=e("3200");for(var s in n)"default"!==s&&function(a){e.d(t,a,function(){return n[a]})}(s);e("386d5");var d,r=e("f0c5"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"add2aab8",null,!1,i["a"],d);t["default"]=o.exports},e53dc:function(a,t,e){var i=e("7435");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var n=e("4f06").default;n("47fc382b",i,!0,{sourceMap:!1,shadowMode:!1})}}]);